# 环境

- win10 1909

- java 1.8.0_261

- i5-8250U 4核8线程

- 8G内存（7.86G可用）

  实际上可用内存比较小，4G跑不到

# 分析

## 串行GC

| -Xmx(M) | DefNew(K) | Minor GC 次数 | Minor GC 平均耗时(ms) | Full GC 平均耗时(ms) | 生成对象数 |
| :-----: | --------: | ------------- | --------------------- | -------------------- | ---------- |
|   128   |     39296 | 8             | 7                     | 10                   | OOM        |
|   256   |     78656 | 9             | 14                    | 20                   | 4680       |
|   512   |    157248 | 17            | 25                    | 54                   | 10064      |

## 并行GC

| -Xmx(M) | PSYoungGen(K)        | Minor GC 平均耗时(ms) | Full GC 平均耗时(ms) | 生成对象数 |
| ------- | -------------------- | --------------------- | -------------------- | ---------- |
| 256     | 40448/58368/76288    | 6                     | 25                   | OOM        |
| 512     | 80384/116736/153088  | 10                    | 46                   | 8640       |
| 1024    | 160256/232960/305664 | 24                    | 246                  | 8560       |
| 4096    | 1223168              | 273                   | --（没遇到）         | 3991       |

## CMS GC

| -Xmx(M) | ParNew(K) | Minor GC 平均耗时(ms) | CMS-initial-mark(K) | YG occupancy(K) | 生成对象数 |
| ------- | --------- | --------------------- | ------------------- | --------------- | ---------- |
| 512     | 157248    | 28                    | 349568              | 157248          | 9528       |
| 4096    | 613440    | 120                   | --（没遇到）        | --（没遇到）    | 10319      |

## G1 GC

| -Xmx(M) | GC pause(ms) | Parallel Time(ms) | Clear CT(ms) | Other | 生成对象数 |
| ------- | ------------ | ----------------- | ------------ | ----- | ---------- |
| 512     | 4            | 2                 | 0.6          | 1.3   | 10111      |
| 4096    | 14           | 13                | 0.3          | 0.9   | 11531      |

